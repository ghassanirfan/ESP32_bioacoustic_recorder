# ESP32 Recorder Project

## Overview

This project aims to capture bird sounds using ESP32 devices. These recordings can be controlled and downloaded over a local Wi-Fi network (without internet access). The recorded audio files are then analyzed directly using the BirdNET Analyzer integrated with the client application. The project is still under development.

## Project Structure

- **`App_Client_Birdnet/`**: Contains the Python client application and the BirdNET Analyzer.
  - **`Birdnet-Analyzer/`**: The directory containing the BirdNET Analyzer for audio analysis.
  - **`client_app.py`**: The main Python client application.
- **`Firmware_ESP/`**: Contains the firmware for the ESP32 devices.
  - **`SC/`**: Source code for PlatformIO.
  - **`FIRMWARE_BIN/`**: Compiled firmware binaries.

## Features

- **Control and Download Recordings**: Start and stop recordings on the ESP32 devices and download the recorded files.
- **Local Network Operation**: Operates over a local Wi-Fi network without needing internet access.
- **BirdNET Analyzer Integration**: Direct analysis of recordings using BirdNET Analyzer from within the client application.
- **ESP32 Time Synchronization**: Synchronize ESP32 device time with the client device.
- **File Management**: List, download, delete, and rename recorded files on the ESP32 devices.

## ESP32 Pin Configuration

### INMP441 Microphone

- `SD` -----> Pin 33
- `WS` -----> Pin 25
- `SCK` ----> Pin 32
- `L/R` ----> GND
- `GND` ----> GND
- `3.3v` ---> 3.3v

### SD Card Module (with buffer)

- `MISO` -----> Pin 19
- `MOSI` -----> Pin 23
- `SCK` ----> Pin 18
- `CS` ----> Pin 5
- `GND` ----> GND
- `VDD` ---> 3.3v

## Flashing the Firmware

1. Connect your ESP32 device to your computer.
2. Open a terminal and navigate to the `Firmware_ESP/SC` directory.
3. Use PlatformIO to upload the firmware:

    ```bash
    pio run --target upload
    ```

4. The firmware will be uploaded to the ESP32 device.

## Usage

1. **Running the Client Application**:
   - Navigate to the `App_Client_Birdnet` directory.
   - Check Check requirements.txt for Dependencies
   - Ensure you have Python installed.
   - Install the necessary Python packages using pip:
   ```bash
   pip install -r requirements.txt
   ```  
   - Run the client application:

    ```bash
    python client_app.py
    ```
    
3. **Client Application Features**:
   - **Scan for Recording Devices**: Scan and list available ESP32 devices on the local network.
   - **Start/Stop Recording**: Control the recording process on selected ESP32 devices.
   - **Download Recordings**: Download recorded files from ESP32 devices.
   - **Run BirdNET Analysis**: Analyze downloaded recordings using the BirdNET Analyzer.
   - **File Management**: List, download, delete, and rename files on the ESP32 devices.
   - **Merge CSV Files**: Combine multiple CSV files generated by BirdNET Analyzer.

## Client Application GUI

The GUI provides tabs for:

- **Recording Devices**: Manage and control ESP32 recording devices.
- **Files**: Manage recorded files.
- **BirdNET Analyzer**: Configure and run BirdNET analysis.
- **About**: Information about the project and authors.

## Note

This project is still under development. Some features may be incomplete or subject to change.

## Contributors

- **Authors**: Ghassan Irfan Nauval Al Althaf
- **Special Thanks**: BirdNET Analyzer team, K. Lisa Yang Center for Conservation Bioacoustics
- **Project Funding**: Departement Of Biology, Sebelas Maret University
## License
This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Acknowledgments
- [BirdNET Analyzer](https://github.com/kahst/BirdNET-Analyzer) (CC BY-NC-SA 4.0 License)

For more information, visit [github.com/ghassanirfan](https://github.com/ghassanirfan) or contact the author at ghassanirfan@student.uns.ac.id. 
This application is not associated with BirdNET-Lite, BirdNET-Analyzer and is only for educational use. Special thanks to the BirdNET Analyzer team at the K. Lisa Yang Center for Conservation Bioacoustics.
